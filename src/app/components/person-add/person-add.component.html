<h2>Add Person</h2>

<form [formGroup]="addForm" (ngSubmit)="save()">
  <div class="card">
    <div class="card-body">
      <div class="mb-3">
        <label class="form-label fw-bold">Name: <span class="text-danger">*</span></label>
        <input
          type="text"
          class="form-control"
          [class.is-invalid]="isFieldInvalid('name')"
          formControlName="name"
          placeholder="Enter name">
        @if (isFieldInvalid('name')) {
          <div class="invalid-feedback">
            {{ getFieldError('name') }}
          </div>
        }
      </div>
      <div class="mb-3">
        <label class="form-label fw-bold">Date of Birth: <span class="text-danger">*</span></label>
        <input
          type="date"
          class="form-control"
          [class.is-invalid]="isFieldInvalid('dateOfBirth')"
          formControlName="dateOfBirth">
        @if (isFieldInvalid('dateOfBirth')) {
          <div class="invalid-feedback">
            {{ getFieldError('dateOfBirth') }}
          </div>
        }
      </div>
      <div class="mb-3">
        <label class="form-label fw-bold">Score: <span class="text-danger">*</span></label>
        <input
          type="number"
          step="1"
          min="0"
          class="form-control"
          [class.is-invalid]="isFieldInvalid('score')"
          formControlName="score"
          placeholder="Enter score">
        @if (isFieldInvalid('score')) {
          <div class="invalid-feedback">
            {{ getFieldError('score') }}
          </div>
        }
      </div>
      <div class="mb-3">
        <label class="form-label fw-bold">Salary: <span class="text-danger">*</span></label>
        <input
          type="number"
          step="0.01"
          min="0"
          class="form-control"
          [class.is-invalid]="isFieldInvalid('salary')"
          formControlName="salary"
          placeholder="Enter salary">
        @if (isFieldInvalid('salary')) {
          <div class="invalid-feedback">
            {{ getFieldError('salary') }}
          </div>
        }
      </div>
      <div class="mb-3">
        <label class="form-label fw-bold">Active:</label>
        <div class="form-check">
          <input
            class="form-check-input"
            type="checkbox"
            formControlName="active"
            id="activeCheck">
          <label class="form-check-label" for="activeCheck">
            Active
          </label>
        </div>
      </div>
      <div class="mb-3">
        <label class="form-label fw-bold">Comment:</label>
        <textarea
          class="form-control"
          formControlName="comment"
          rows="3"
          placeholder="Enter comment (optional)"></textarea>
      </div>
      <div class="d-flex gap-2">
        <button type="button" class="btn btn-secondary" (click)="cancel()" data-cy="button-cancel" [disabled]="saving">CANCEL</button>
        <button type="submit" class="btn btn-primary" [disabled]="saving || addForm.invalid" data-cy="button-save">
          @if (saving) {
            <span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
          }
          SAVE
        </button>
      </div>
    </div>
  </div>
</form>

